show_banner()={
 println("
 _______                    _______         __                                     __                     ______  _______  _______  _______ 
|    |  |.--.--..--.--.    |_     _|.-----.|  |_ .-----..----..-----..----..-----.|  |_ .-----..----.    |   __ \\|    ___||_     _||   _   |
|       ||  |  ||_   _|     _|   |_ |     ||   _||  -__||   _||  _  ||   _||  -__||   _||  -__||   _|    |   __ <|    ___|  |   |  |       |
|__|____||___  ||__.__|    |_______||__|__||____||_____||__|  |   __||__|  |_____||____||_____||__|      |______/|_______|  |___|  |___|___|
         |_____|                                              |__|                                                                          
                                                                                                                                            ");

};




get_url(url="http://openstrike.de/aluria/client/clients.json")=
{
parsed_url=http.parse_url(url);

println("uri:"+parsed_url["uri"]);
println("host:"+parsed_url["host"]);
println("port:"+parsed_url["port"]);

sock=socket.open(socket.SOCK_STREAM);
connected=sock.connect("openstrike.de",80);.else({restart(1)});
sock.write();
timeouts=1000;
r=sock.read();
c=r.copy();
?({(len(r)||timeouts)&&sock.is_connected},{r=sock.read();c=c+r;?(len(r)==0,{print(".");timeouts=timeouts-1},{},0);},{},1);
sock.close();
j=http.parse_answer(c)["body"].from_json();

};

show_banner();


data = get_url();
data = get_url("www.openstrike.de");
data = get_url("http://www.openstrike.de:80");



